# Вакансии и Работодатели с HH.ru

Этот проект позволяет получить данные о компаниях и вакансиях с сайта HH.ru, сохранить их в базе данных PostgreSQL и управлять этими данными с помощью различных запросов.

Выбраны 10 интересных компаний, от которых получены данные о вакансиях по API.
Список находится в файле config.py. 
По умолчанию, список ID компаний - [1740, 3529, 64174, 2180, 15478, 3776, 8620, 3529, 78638, 1440683].

Склонируйте репозиторий:
git clone git@github.com:RViktorV/cr_5_database.git

Установите Poetry, если он еще не установлен:
pip install poetry

Установите зависимости и создайте виртуальное окружение:
poetry install

Настройте базу данных PostgreSQL:
Для хранения конфигурации подключения к базе данных PostgreSQL 
Создан файл database.ini с содержимым:

[postgresql]
host=localhost
user=postgres
password=1q2w3e
port=5432

Использование:
Активируйте виртуальное окружение:
poetry shell

- Получены данные о работодателях и их вакансиях с сайта hh.ru. Для этого использовался публичный API hh.ru и библиотека 
requests.
- Выбраны 10 интересных компаний, от которых получены данные о вакансиях по API.
- Спроектирована таблица в БД PostgreSQL для хранения полученных данных о работодателях и их вакансиях. Для работы с БД используется библиотеку 
psycopg2.
- Реализован код, который заполняет созданные в БД PostgreSQL таблицы данными о работодателях и их вакансиях.
- Создан класс DBManager для работы с данными в БД.

В классе DBManager реализованы методы:
 - **get_companies_and_vacancies_count** - Получает список всех компаний, их ID и количество вакансий у каждой компании.
 - **get_all_vacancies** - Получает список всех вакансий с указанием названия компании, названия вакансии и зарплаты и ссылки на вакансию.
 - **get_vacancies_by_company_id** - Получает список вакансий по ID компании.
 - **get_avg_salary** - Получает среднюю зарплату по вакансиям.
 - **get_vacancies_with_higher_salary** - Получает список всех вакансий, у которых зарплата выше средней по всем вакансиям.
 - **get_vacancies_with_keyword** - Получает список всех вакансий, в названии которых содержатся переданные в метод слова.
 - **print_select** - Метод выводит результаты запроса в виде таблицы.
 - **print_companies_and_vacancies_count** - Метод выводит компании и количество вакансий в виде таблицы.
 - **print_all_vacancies** - Метод выводит в виден таблицы список всех вакансий с указанием названия компании,
        названия вакансии и зарплаты и ссылки на вакансию.
 - **print_vacancies_with_higher_salary** - Метод выводит в виден таблицы вакансий, у которых зарплата выше средней по всем вакансиям.
 - **print_vacancies_with_keyword** - Метод выводит в виден таблицы вакансий, в названии которых содержатся переданные в метод ключевое слово.
 - **print_vacancies_by_company_id** - Метод выводит в виде таблицы вакансии указанной компании по ее ID.
 - **close** - Закрывает соединение с базой данных.